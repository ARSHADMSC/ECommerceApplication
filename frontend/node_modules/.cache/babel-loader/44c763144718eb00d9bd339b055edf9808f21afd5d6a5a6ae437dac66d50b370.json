{"ast":null,"code":"var _jsxFileName = \"E:\\\\3rd semester\\\\e-commerce\\\\frontend\\\\src\\\\components\\\\cart.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport './cart.css';\nimport { useNavigate } from 'react-router-dom';\nimport userContext from '../context';\nimport { useContext } from \"react\";\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction SucessfullModal() {\n  _s();\n  const navigate = useNavigate();\n  const [cart, setCart] = useState([]);\n  const [total, setTotal] = useState(0);\n  var head = useContext(userContext);\n  const deletecart = product_id => {\n    console.log(product_id);\n    axios.post('http://localhost:3002/api/cart/deletecart', {\n      product_id: product_id\n    }, {\n      headers: {\n        'Content-Type': 'application/json',\n        'x-auth-token': head.auth\n      }\n    }).then(res => {\n      if (res.data.acknowledged) return getme();\n    });\n  };\n  const increaseqnty = (product_id, price, name, quantity) => {\n    console.log(product_id + price + name + quantity);\n    axios.post('http://localhost:3002/api/cart/insertcart', {\n      product_id: product_id,\n      price: price,\n      name: name,\n      quantity: quantity + 1\n    }, {\n      headers: {\n        'Content-Type': 'application/json',\n        'x-auth-token': head.auth\n      }\n    }).then(res => {\n      console.log(res.data);\n      getme();\n    });\n  };\n  const decreaseqnty = (product_id, price, name, quantity) => {\n    console.log(product_id + price + name + quantity);\n    if (quantity == 1) return deletecart(product_id);else {\n      axios.post('http://localhost:3002/api/cart/insertcart', {\n        product_id: product_id,\n        price: price,\n        name: name,\n        quantity: quantity - 1\n      }, {\n        headers: {\n          'Content-Type': 'application/json',\n          'x-auth-token': head.auth\n        }\n      }).then(res => {\n        console.log(res.data);\n        getme();\n      });\n    }\n  };\n  async function getme() {\n    axios.get('http://localhost:3002/api/customer/getme', {\n      headers: {\n        'Content-Type': 'application/json',\n        'x-auth-token': head.auth\n      }\n    }).then(res => {\n      console.log(res.data);\n      setCart(res.data.cart[0].products);\n      setTotal(res.data.total);\n    });\n  }\n  useEffect(() => {\n    getme();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"GSucessFullModal\",\n      style: {\n        height: 'auto',\n        top: '50px',\n        paddingBottom: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"GContainerSucess\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"GimageSucessfullImage\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"cart-image\",\n            src: \"https://th.bing.com/th/id/OIP.6zSUQik1lCtY-qlmWh_CtgHaF6?pid=ImgDet&rs=1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"h1-head\",\n            children: \"Keep Shopping\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cart-order\",\n          children: cart.map(item => /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: item.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 26\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"pr-div\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"price\",\n                children: [\"Price: \", item.price, \" x \", item.quantity, \" = \", item.amount]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"quantity\",\n                children: [\"Quantity: \", item.quantity, \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"qua-btn\",\n                  onClick: () => increaseqnty(item.product_id, item.price, item.name, item.quantity),\n                  children: \"+\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 71\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"qua-btn\",\n                  onClick: () => decreaseqnty(item.product_id, item.price, item.name, item.quantity),\n                  children: \"-\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 190\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn-rem\",\n                  onClick: () => deletecart(item.product_id),\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    class: \"fa fa-trash\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 84,\n                    columnNumber: 381\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 309\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"total\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"total-p\",\n            children: [\"Total:\", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"tot-span\",\n              children: [\"$ \", total]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 54\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"checkout\",\n        type: \"submit\",\n        onClick: () => {\n          if (cart.length === 0) return alert('Add a item');\n          navigate('/payment');\n        },\n        children: \"Checkout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"checkout\",\n        onClick: () => navigate('/product'),\n        children: \"Go to Products\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n_s(SucessfullModal, \"9ZJsJEOVy3IHCZzm9m/4wVSpid4=\", false, function () {\n  return [useNavigate];\n});\n_c = SucessfullModal;\nexport default SucessfullModal;\nvar _c;\n$RefreshReg$(_c, \"SucessfullModal\");","map":{"version":3,"names":["React","useNavigate","userContext","useContext","useState","useEffect","axios","SucessfullModal","navigate","cart","setCart","total","setTotal","head","deletecart","product_id","console","log","post","headers","auth","then","res","data","acknowledged","getme","increaseqnty","price","name","quantity","decreaseqnty","get","products","height","top","paddingBottom","map","item","amount","length","alert"],"sources":["E:/3rd semester/e-commerce/frontend/src/components/cart.js"],"sourcesContent":["import React from 'react'\r\nimport './cart.css'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport userContext from '../context';\r\nimport {useContext} from \"react\"\r\nimport {useState, useEffect} from 'react'\r\nimport axios from 'axios';\r\n\r\nfunction SucessfullModal() {\r\n    const navigate = useNavigate()\r\n    const [cart,setCart]=useState([])\r\n    const [total,setTotal]=useState(0)\r\n    var head=useContext(userContext)\r\n\r\n    const deletecart=(product_id)=>{\r\n        console.log(product_id);\r\n        axios.post('http://localhost:3002/api/cart/deletecart',{product_id:product_id},{headers:{\r\n                    'Content-Type':'application/json',\r\n                    'x-auth-token':head.auth\r\n                  }}).then(res=>{\r\n                    if(res.data.acknowledged) return getme()\r\n                  })\r\n    }\r\n\r\n    const increaseqnty=(product_id,price,name,quantity)=>{\r\n        console.log(product_id+price+name+quantity);\r\n        axios.post('http://localhost:3002/api/cart/insertcart',{\r\n            product_id:product_id,\r\n            price:price,\r\n            name:name,\r\n            quantity:quantity+1\r\n        },{headers:{\r\n                    'Content-Type':'application/json',\r\n                    'x-auth-token':head.auth\r\n                  }}).then(res=>{console.log(res.data)\r\n                getme()})\r\n    }\r\n    const decreaseqnty=(product_id,price,name,quantity)=>{\r\n        console.log(product_id+price+name+quantity);\r\n        if(quantity==1) return deletecart(product_id)\r\n        else{\r\n        axios.post('http://localhost:3002/api/cart/insertcart',{\r\n            product_id:product_id,\r\n            price:price,\r\n            name:name,\r\n            quantity:quantity-1\r\n        },{headers:{\r\n                    'Content-Type':'application/json',\r\n                    'x-auth-token':head.auth\r\n                  }}).then(res=>{console.log(res.data)\r\n                getme()})\r\n                  }\r\n    }\r\n\r\n    async function getme(){\r\n                axios.get('http://localhost:3002/api/customer/getme',{headers:{\r\n                    'Content-Type':'application/json',\r\n                    'x-auth-token':head.auth\r\n                  }}).then(res=>{\r\n                    console.log(res.data);\r\n                    setCart(res.data.cart[0].products)\r\n                    setTotal(res.data.total)\r\n                  })\r\n            }\r\n            useEffect(()=>{\r\n                getme()\r\n            },[])\r\n\r\n  return (\r\n    <>\r\n        <div  className='GSucessFullModal' style={{height:'auto',top:'50px',paddingBottom:'20px'}}> \r\n            <div className='GContainerSucess'>\r\n                <div className='GimageSucessfullImage'>\r\n                    <img className='cart-image' src={\"https://th.bing.com/th/id/OIP.6zSUQik1lCtY-qlmWh_CtgHaF6?pid=ImgDet&rs=1\"}/>\r\n                    <h1 className='h1-head'>Keep Shopping</h1>\r\n                </div>\r\n               \r\n                <div className='cart-order'>\r\n                    {cart.map(item=>(\r\n                        <>\r\n                         <h3>{item.name}</h3>\r\n                    <div className='pr-div'>\r\n                    <p className='price'>Price: {item.price} x {item.quantity} = {item.amount}</p>\r\n                    <p className='quantity'>Quantity: {item.quantity} <button className='qua-btn' onClick={()=>(increaseqnty(item.product_id,item.price,item.name,item.quantity))}>+</button><button className='qua-btn' onClick={()=>(decreaseqnty(item.product_id,item.price,item.name,item.quantity))}>-</button><button className='btn-rem' onClick={()=>(deletecart(item.product_id))}><i class=\"fa fa-trash\"></i></button></p>\r\n                    \r\n                    </div>\r\n                        </>\r\n                    ))}\r\n                   \r\n                    \r\n                   \r\n                </div>\r\n                \r\n                 \r\n                    <div className='total'>\r\n                        <p className='total-p'>Total:<span className='tot-span'>$ {total}</span></p>\r\n                    </div>\r\n              \r\n            </div>\r\n            <button className='checkout' type='submit' onClick={()=>{\r\n              if(cart.length===0) return alert('Add a item')\r\n              navigate('/payment')}\r\n              }>Checkout</button>\r\n            <button className='checkout' onClick={()=>(navigate('/product'))} >Go to Products</button>\r\n        </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default SucessfullModal"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}